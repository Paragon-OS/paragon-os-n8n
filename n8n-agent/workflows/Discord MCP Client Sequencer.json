{
  "updatedAt": "2025-11-21T21:39:00.000Z",
  "createdAt": "2025-11-06T21:51:04.792Z",
  "id": "vfcxqLBDDMKL5lnG",
  "name": "Discord MCP Client Sequencer",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "userPrompt"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        -400,
        -1232
      ],
      "id": "9a1fc959-c92c-4140-877e-6a1badc12e5b",
      "name": "When Executed by Another Workflow",
      "alwaysOutputData": true,
      "retryOnFail": true,
      "maxTries": 2
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.output.hasDirectAnswer }}",
                    "rightValue": "",
                    "operator": {
                      "type": "boolean",
                      "operation": "true",
                      "singleValue": true
                    },
                    "id": "ff6241e7-5888-44d3-bcd7-543a0deffafe"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "HAS DIRECT ANSWER"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "5093fd74-cc07-45b4-8725-2d1de4075919",
                    "leftValue": "={{ $json.output.executionSteps ?? [] }}",
                    "rightValue": "",
                    "operator": {
                      "type": "array",
                      "operation": "notEmpty",
                      "singleValue": true
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "HAS EXECUTION STEPS"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.3,
      "position": [
        832,
        -1408
      ],
      "id": "762a6c3b-ecaf-4984-8d41-fe9c43813e40",
      "name": "Has a direct answer?"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=User prompt: \"{{ $json.userPrompt }}\"",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=## You are a helpful assistant with the capabilities to generate\n- Either a sequence of tool execution steps for a user's prompt to accomplish the task OR a `directAnswer` answer if you can answer directly from your knowledge\n- You are NOT a tool executor.\n- You MUST output a valid JSON object\n\nInstructions:\n- you are PROHIBITED from using guild/server/channel/contact display names instead of proper IDs as execution parameters.\n- If you only have a name of a guild/server/channel/contact, your TOP PRIORITY is finding the discord guild/server/channel/contact IDs.\n- try to use your knowledge of the contact list instead of calling 'discord_list_contacts'\n- try to use your knowledge of the guilds/servers list instead of calling 'discord_list_guilds'\n\nFor ANY operation that requires Discord API calls, you MUST use executionSteps:\n- Reading/list/get operations (list messages, read channel, get user info, etc.)\n- Writing/send operations (send message, etc.)\n- Finding/searching operations (find channel, search messages, etc.)\n- Any action that retrieves or modifies Discord data\n\nExamples:\n- \"list messages with user X\" â†’ find contact ID then list messages\n- \"list channels in guild/server Y\" â†’ find guild ID then list\n- \"list messages in the guild/server Y channel Z\" â†’ find guild ID, list channels, then list messages of the matching channel\n- \"send a message to channel Y\" â†’ find channel ID, then send a message\n- \"who are in my contacts?\" â†’ list contacts\n\n## Your Knowledge of Discord Contacts:\n\n{{ $json.context.discordContacts?.toJsonString() ?? '[]' }}\n\n## Your Knowledge of Your Own Profile:\n\n{{ $json.context.myProfile?.toJsonString() ?? 'Error! No Profile Info' }}\n\n## Your Knowledge of Discord Servers/Guilds:\n\n{{ $json.context.serversOrGuilds?.toJsonString() ?? '[]' }}\n\n## Your Knowledge of Recommended Playbook Play: \n\n{{ $json.context.playbookRecommendations?.toJsonString() ?? '[]' }}\n\n## Your Knowledge of Recommended Tools to Use:\n\n{{ $json.context.toolRecommendations?.toJsonString() ?? '[]' }}\n",
          "returnIntermediateSteps": true
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        48,
        -1408
      ],
      "id": "4d12a4dd-3b4f-472b-a944-6265ad99de9e",
      "name": "Execution Planner AI Agent"
    },
    {
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"executionSteps\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"toolName\": {\n            \"type\": \"string\"\n          },\n          \"callParams\": {\n            \"type\": \"object\"\n          }\n        },\n        \"required\": [\"toolName\"],\n        \"additionalProperties\": false\n      },\n      \"description\": \"List MCP tool execution steps to achieve user's goal. ONLY USE WHEN NOT A DIRECT ANSWER\"\n    },\n    \"directAnswer\": {\n      \"type\": \"string\",\n      \"description\": \"You can provide a direct answer instead of providing a list of executionSteps. ONLY USE WHEN YOU CAN DIRECT ANSWER\"\n    }\n  },\n  \"additionalProperties\": false\n}\n",
        "autoFix": true
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        256,
        -1184
      ],
      "id": "fc946901-08ae-4ac6-b072-a8d59798086f",
      "name": "Execution Plan Output Parser"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.5-pro",
        "options": {
          "temperature": 0.2
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        192,
        -976
      ],
      "id": "c79482a2-0b52-475c-a1d5-8f92e6b322e2",
      "name": "Gemini Model (Execution Planner)",
      "credentials": {
        "googlePalmApi": {
          "id": "NIhZoi9otQV2vaAP",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "uoYXevOl4ePWKeNx",
          "mode": "list",
          "cachedResultUrl": "/workflow/uoYXevOl4ePWKeNx",
          "cachedResultName": "[HELPERS] Discord & Telegram Step Executor"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "executionSteps": "={{ $json.output.executionSteps }}",
            "targetMcp": "DISCORD"
          },
          "matchingColumns": [
            "executionSteps"
          ],
          "schema": [
            {
              "id": "executionSteps",
              "displayName": "executionSteps",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "array",
              "removed": false
            },
            {
              "id": "targetMcp",
              "displayName": "targetMcp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.3,
      "position": [
        1056,
        -1312
      ],
      "id": "06e27531-aa79-4d3c-aa37-748e1b322840",
      "name": "Call Discord Step Executor"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "zBL0JT7t26pK2x95",
          "mode": "list",
          "cachedResultUrl": "/workflow/zBL0JT7t26pK2x95",
          "cachedResultName": "[HELPERS] Discord Context Enricher"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "userPrompt": "={{ $json.userPrompt }}",
            "previousAttempt": "={{ $json.previousAttempt ?? {} }}"
          },
          "matchingColumns": [
            "userPrompt"
          ],
          "schema": [
            {
              "id": "userPrompt",
              "displayName": "userPrompt",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "previousAttempt",
              "displayName": "previousAttempt",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "object",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.3,
      "position": [
        -176,
        -1232
      ],
      "id": "7382b6fd-ba53-4b3e-95fa-a475585629ef",
      "name": "Enrich With Discord Context"
    },
    {
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"shouldRetry\": {\n      \"type\": \"boolean\",\n      \"description\": \"Indicates whether the operation should be retried\"\n    },\n    \"retryStrategy\": {\n      \"type\": \"string\",\n      \"description\": \"The retry strategy to use (e.g., 'none', 'exponential', 'linear')\"\n    },\n    \"reasoning\": {\n      \"type\": \"string\",\n      \"description\": \"Explanation of the decision-making process\"\n    },\n    \"directAnswer\": {\n      \"type\": \"string\",\n      \"description\": \"Direct answer to the user's prompt\"\n    }\n  },\n  \"required\": [\"shouldRetry\", \"directAnswer\"],\n  \"additionalProperties\": false\n}\n",
        "autoFix": true
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        1584,
        -1184
      ],
      "id": "538e65bd-9cdf-4ccb-aee3-900717e59667",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "254965fb-79da-4ee1-a539-3e9e5bda7eae",
              "leftValue": "={{ $json.output.shouldRetry }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "false",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1952,
        -1408
      ],
      "id": "a9a10da9-6271-473d-a015-5c866fee05c0",
      "name": "Is Successful"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {
          "includeUnpaired": true
        }
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        1280,
        -1408
      ],
      "id": "116b33a8-d590-4a79-b13b-74d5fa60c436",
      "name": "Merge"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=## User's prompt input:\n\n\"{{ $('Enrich With Discord Context').item.json.userPrompt }}\"\n\n## Generated output: \n\n\"{{ $json.executionSteps?.toJsonString() ?? $('Has a direct answer?').item.json.output.directAnswer }}\"\n",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=You are SOLELY a AI generated answer validator. You are NOT a tool executor. \n\n# IMPORTANT:\n- You just judge the user's prompt vs the generated output answer and output as a {} object.\n- If there is no Generated output, it's automatically a failure.\n\nYou must output in JSON:\n- shouldRetry: boolean\n- retryStrategy: \"refine_prompt\" | \"change_approach\" | \"add_context\" | \"none\"\n- reasoning: string\n- directAnswer: string\n\n# If you receive an already processed Direct Anwer to the user's prompt: put that in the `directAnswer` of your output, and pass the validation.\n\n# If you receive a MCP tool execution result array: \nONLY IF the execution results doesn't trivially answer the user prompt AND you can confidently answer the question, use `directAnswer` to output an accurate answer based on the available execution results.\n\n## Your Knowledge of Discord Contacts:\n\n{{ $('Enrich With Discord Context').item.json.context.discordContacts?.toJsonString() ?? '[]' }}\n\n## Your Knowledge of Discord Servers/Guilds:\n\n{{ $('Enrich With Discord Context').item.json.context.serversOrGuilds?.toJsonString() ?? '[]' }}\n\n## Your Knowledge of Your Own Profile:\n\n{{ $('Enrich With Discord Context').item.json.context.myProfile?.toJsonString() ?? 'Error! No Profile Info' }}\n\n## Your Knowledge of Recommended Tools to Use:\n\n{{ $('Enrich With Discord Context').item.json.context.toolRecommendations.toJsonString() }}\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        1504,
        -1408
      ],
      "id": "eefe7dfc-4226-4cd7-90bf-fde29a23adbf",
      "name": "Result Validator AI Agent"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "3f5e87b1-12e3-45a9-a7f4-e811c57e5477",
              "name": "executionSteps",
              "value": "={{ $('Merge').item.json.executionSteps ?? [] }}",
              "type": "array"
            },
            {
              "id": "c6d2472e-3c6b-4fa5-af80-aa60691fdd36",
              "name": "directAnswer",
              "value": "={{ $('Has a direct answer?').item.json.output.directAnswer ?? $json.output.directAnswer ?? null }}",
              "type": "string"
            },
            {
              "id": "aab0f5f3-c0f4-4f99-b31b-a9181c1d6666",
              "name": "refinedUserPrompt",
              "value": "={{ $('Enrich With Discord Context').item.json.userPrompt }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2176,
        -1456
      ],
      "id": "b145076c-014e-42a5-aee7-cc476819044f",
      "name": "Format Final Output"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        2400,
        -1456
      ],
      "id": "22e4bd83-b3fb-43c4-b545-01b7936d30de",
      "name": "Output"
    },
    {
      "parameters": {
        "options": {
          "temperature": 0.2
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        1568,
        -976
      ],
      "id": "7853e358-9903-400b-bd72-b17ee43c2e02",
      "name": "Gemini Model (Validator)",
      "credentials": {
        "googlePalmApi": {
          "id": "NIhZoi9otQV2vaAP",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $execution.id }}",
        "contextWindowLength": 10
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        128,
        -1184
      ],
      "id": "7b08e3df-3525-412b-8563-ff32b122f63b",
      "name": "Execution Planning Memory"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "12099019-73e3-4d7d-9a3e-ae6101e4ede3",
              "name": "userPrompt",
              "value": "={{ $('When Executed by Another Workflow').item.json.userPrompt }}",
              "type": "string"
            },
            {
              "id": "f59a7d1a-f3c6-45f5-bcac-2508d5625233",
              "name": "previousAttempt",
              "value": "={{ $json.output }}",
              "type": "object"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2176,
        -1104
      ],
      "id": "79bf2852-a5b3-42af-b671-6a220ba9bf75",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "1cac0038-c81f-4eb8-b556-573d7c74fbd7",
              "name": "output.hasDirectAnswer",
              "value": "={{ !!$json.output.directAnswer?.toJsonString() }}",
              "type": "boolean"
            }
          ]
        },
        "includeOtherFields": true,
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        400,
        -1408
      ],
      "id": "b659088c-b9c5-4975-bfc0-925c0a041339",
      "name": "Edit Fields1"
    }
  ],
  "connections": {
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "Enrich With Discord Context",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Has a direct answer?": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Call Discord Step Executor",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Execution Planner AI Agent": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Execution Plan Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Execution Planner AI Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Gemini Model (Execution Planner)": {
      "ai_languageModel": [
        [
          {
            "node": "Execution Planner AI Agent",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Execution Plan Output Parser",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Call Discord Step Executor": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Enrich With Discord Context": {
      "main": [
        [
          {
            "node": "Execution Planner AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Result Validator AI Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Is Successful": {
      "main": [
        [
          {
            "node": "Format Final Output",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Result Validator AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Result Validator AI Agent": {
      "main": [
        [
          {
            "node": "Is Successful",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Format Final Output": {
      "main": [
        [
          {
            "node": "Output",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini Model (Validator)": {
      "ai_languageModel": [
        [
          {
            "node": "Result Validator AI Agent",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Structured Output Parser",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Execution Planning Memory": {
      "ai_memory": [
        [
          {
            "node": "Execution Planner AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Enrich With Discord Context",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "Has a direct answer?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {
    "When Executed by Another Workflow": [
      {
        "json": {
          "userPrompt": "List the last 10 messages in the Discord channel 'staryo-admin'"
        }
      }
    ],
    "Execution Planner AI Agent": [
      {
        "json": {
          "output": {
            "executionSteps": [
              {
                "toolName": "discord_read_channel",
                "callParams": {
                  "limit": 10,
                  "channelId": "1277593921886883850"
                }
              }
            ]
          },
          "intermediateSteps": []
        }
      }
    ],
    "Enrich With Discord Context": [
      {
        "json": {
          "userPrompt": "List the last 10 messages in the Discord channel 'staryo-admin-only' (channelId: 1277593921886883850) in the 'Metarune Labs' guild (guildId: 1277590071574401084).",
          "context": {
            "serversOrGuilds": [
              {
                "id": "995045635441049600",
                "name": "Draft Labs",
                "members": 19,
                "channels": {
                  "1062558279621955594": "water-cooler",
                  "1178812443317784626": "dev-updates",
                  "1178814072561606697": "draftables-metaroon-private",
                  "1178816006999777371": "waiting-room",
                  "1179879461588570204": "dev-discussions",
                  "1339690911583703040": "art",
                  "1354082888940916799": "aice-arena"
                }
              },
              {
                "id": "1277590071574401084",
                "name": "Metarune Labs",
                "members": 15,
                "channels": {
                  "1277590072366993492": "metarune-internal",
                  "1277590203669942272": "staryo-general",
                  "1277592460742361119": "rules",
                  "1277593921886883850": "staryo-admin-only",
                  "1296702105108877312": "staryo-design",
                  "1329740656414818375": "str3am-admin-only",
                  "1329741632169574420": "str3am-geneal",
                  "1349239039915458602": "staryo-qa",
                  "1394660329467805827": "staryo-project-management"
                }
              },
              {
                "id": "1092968290046988298",
                "name": "WandrLust",
                "members": 19,
                "channels": {
                  "1175337140981338112": "ðŸ“’ãƒ»research-ai-training",
                  "1413464992220582010": "ðŸ”‘ãƒ»mrl-project-management-discussion",
                  "1092978766051037214": "ðŸ””ãƒ»discord-updates",
                  "1354282957342380172": "ðŸ”‘ãƒ»patrick-metarune",
                  "1092976237967839306": "ðŸ˜«ãƒ»im-stuck",
                  "1339437663911940227": "ðŸ”‘ãƒ»mrl-grff-trait-chat",
                  "1175338786318712902": "ðŸ“’ãƒ»research-feature-ideas",
                  "1252189909138014300": "ðŸ”‘ãƒ»mrl-admin-chat",
                  "1092974110298099804": "ðŸª©ãƒ»verify-here",
                  "1279268825652789320": "ticket-0002",
                  "1270920384178290689": "ðŸ”‘ãƒ»mrl-dev-chat"
                }
              }
            ],
            "discordContacts": [
              {
                "id": "111111111",
                "username": "immediateuser1#0001",
                "displayName": "Immediate User 1",
                "lastMessage": "29 days ago",
                "contactType": "dm"
              },
              {
                "id": "222222222",
                "username": "immediateuser2#0002",
                "displayName": "Immediate User 2",
                "contactType": "friend"
              },
              {
                "id": "1130657282364031016",
                "username": "sebastianmoy.",
                "displayName": "SebastianMoy",
                "lastMessage": "22 days ago",
                "contactType": "dm"
              },
              {
                "id": "700498516807516240",
                "username": "0xbri",
                "displayName": "Brian",
                "lastMessage": "27 days ago",
                "contactType": "dm"
              },
              {
                "id": "884878867016327208",
                "username": "codyorlove",
                "displayName": "CodyOrlove",
                "lastMessage": "79 days ago",
                "contactType": "dm"
              },
              {
                "id": "936929561302675456",
                "username": "Midjourney Bot#9282",
                "displayName": "Midjourney Bot",
                "lastMessage": "154 days ago",
                "contactType": "dm"
              },
              {
                "id": "807849176317558844",
                "username": "cuteweirdo",
                "displayName": "CuteWeirdo",
                "lastMessage": "174 days ago",
                "contactType": "dm"
              },
              {
                "id": "203550068123500545",
                "username": "klerii_",
                "displayName": "Charmyâ™¡",
                "lastMessage": "174 days ago",
                "contactType": "dm"
              },
              {
                "id": "665506940918562826",
                "username": "zaph.ira",
                "displayName": "Zaphira",
                "lastMessage": "174 days ago",
                "contactType": "dm"
              },
              {
                "id": "657072195033628675",
                "username": "papayaaa_",
                "displayName": "! papaya",
                "lastMessage": "174 days ago",
                "contactType": "dm"
              },
              {
                "id": "405786119318405121",
                "username": "hewa47",
                "displayName": "hewa-47",
                "lastMessage": "187 days ago",
                "contactType": "dm"
              },
              {
                "id": "983572693205012481",
                "username": "nicscarce",
                "displayName": "Nic_Wandrs",
                "lastMessage": "207 days ago",
                "contactType": "dm"
              },
              {
                "id": "643945264868098049",
                "username": "discord#0000",
                "displayName": "Discord",
                "lastMessage": "213 days ago",
                "contactType": "dm"
              },
              {
                "id": "344827190556360706",
                "username": "nawodyaishan",
                "displayName": "Nawodya Ishan",
                "lastMessage": "255 days ago",
                "contactType": "dm"
              },
              {
                "id": "1014647883552792598",
                "username": "s_m_n_",
                "displayName": "Simon",
                "lastMessage": "265 days ago",
                "contactType": "dm"
              },
              {
                "id": "969499062120382494",
                "username": "metaops123",
                "displayName": "MetaOps",
                "lastMessage": "2 days ago",
                "contactType": "dm"
              },
              {
                "id": "621925387563171850",
                "username": "sneep3r4476",
                "displayName": "Sneep3r4476",
                "lastMessage": "326 days ago",
                "contactType": "dm"
              },
              {
                "id": "1017643832109715598",
                "username": "thirasara",
                "displayName": "Thirasara",
                "lastMessage": "356 days ago",
                "contactType": "dm"
              },
              {
                "id": "1277924298316709963",
                "username": "ssachintha",
                "displayName": "Sithira Sachintha",
                "lastMessage": "360 days ago",
                "contactType": "dm"
              },
              {
                "id": "849986960642277396",
                "username": "dulangakithmini",
                "displayName": "dulangakithmini",
                "lastMessage": "447 days ago",
                "contactType": "dm"
              }
            ],
            "toolRecommendations": [
              {
                "name": "discord_read_channel",
                "description": "Read messages from a Discord channel or direct message (DM) chat using IDs only. Provide either a channelId to read any channel, or a userId to read the DM channel with that user. Supports comprehensive pagination options.",
                "schema": {
                  "type": "object",
                  "properties": {
                    "channelId": {
                      "type": "string",
                      "description": "The Discord channel ID to read messages from (alternative to userId)."
                    },
                    "userId": {
                      "type": "string",
                      "description": "The Discord user ID to read DM chat history with (alternative to channelId). Use this to list direct messages with a specific user."
                    },
                    "limit": {
                      "type": "number",
                      "description": "Number of messages to fetch (default: 50, max: 100)"
                    },
                    "before": {
                      "type": "string",
                      "description": "Message ID to fetch messages before (for pagination)"
                    },
                    "after": {
                      "type": "string",
                      "description": "Message ID to fetch messages after (for pagination)"
                    },
                    "beforeDate": {
                      "type": "string",
                      "description": "ISO date string to fetch messages before (e.g., \"2023-12-01T10:00:00Z\")"
                    },
                    "afterDate": {
                      "type": "string",
                      "description": "ISO date string to fetch messages after (e.g., \"2023-12-01T10:00:00Z\")"
                    },
                    "applyFilters": {
                      "type": "boolean",
                      "description": "Whether to apply channel whitelist/blacklist filters (default: false)"
                    }
                  },
                  "additionalProperties": false,
                  "$schema": "http://json-schema.org/draft-07/schema#"
                }
              }
            ],
            "playbookRecommendations": [
              {
                "name": "catch_up_on_channel_since_time_or_message",
                "whenToUse": "User asks to see or summarize what they missed in a specific channel.",
                "steps": [
                  "Resolve server and channel names to channelId using serversOrGuilds; if missing, call discord_list_channels (optionally with guildId) and match by name in the model.",
                  "If the user gives a time window, call discord_read_channel with channelId=<channelId> and afterDate / beforeDate; otherwise use before / after messageId or a recent limit.",
                  "Summarize important messages, mentions, and decisions for the user.",
                  "Offer to draft replies and, if accepted, call discord_reply_message or discord_send_message as appropriate."
                ]
              }
            ],
            "allRelaventTools": [
              {
                "name": "discord_read_channel",
                "description": "Read messages from a Discord channel or direct message (DM) chat using IDs only. Provide either a channelId to read any channel, or a userId to read the DM channel with that user. Supports comprehensive pagination options.",
                "schema": {
                  "type": "object",
                  "properties": {
                    "channelId": {
                      "type": "string",
                      "description": "The Discord channel ID to read messages from (alternative to userId)."
                    },
                    "userId": {
                      "type": "string",
                      "description": "The Discord user ID to read DM chat history with (alternative to channelId). Use this to list direct messages with a specific user."
                    },
                    "limit": {
                      "type": "number",
                      "description": "Number of messages to fetch (default: 50, max: 100)"
                    },
                    "before": {
                      "type": "string",
                      "description": "Message ID to fetch messages before (for pagination)"
                    },
                    "after": {
                      "type": "string",
                      "description": "Message ID to fetch messages after (for pagination)"
                    },
                    "beforeDate": {
                      "type": "string",
                      "description": "ISO date string to fetch messages before (e.g., \"2023-12-01T10:00:00Z\")"
                    },
                    "afterDate": {
                      "type": "string",
                      "description": "ISO date string to fetch messages after (e.g., \"2023-12-01T10:00:00Z\")"
                    },
                    "applyFilters": {
                      "type": "boolean",
                      "description": "Whether to apply channel whitelist/blacklist filters (default: false)"
                    }
                  },
                  "additionalProperties": false,
                  "$schema": "http://json-schema.org/draft-07/schema#"
                }
              }
            ],
            "myProfile": {
              "user": {
                "id": "711983662144421991",
                "username": "paragonthedev",
                "discriminator": "0",
                "tag": "paragonthedev",
                "bot": false,
                "verified": true,
                "createdAt": 1589820533072
              },
              "status": "online",
              "guildCount": 11,
              "channelCount": 816
            },
            "previousAttempt": {}
          }
        }
      }
    ]
  },
  "versionId": "aea66294-6b05-4210-a46e-d9ecbb3f1e13",
  "versionCounter": 263,
  "triggerCount": 0,
  "tags": [
    {
      "updatedAt": "2025-11-02T21:22:20.646Z",
      "createdAt": "2025-11-02T21:22:20.646Z",
      "id": "95mwWdOxtdnkFLhS",
      "name": "Discord"
    },
    {
      "updatedAt": "2025-11-02T21:22:14.342Z",
      "createdAt": "2025-11-02T21:22:14.342Z",
      "id": "w6FOnYOvODOXV9os",
      "name": "MCP"
    }
  ],
  "shared": [
    {
      "updatedAt": "2025-11-06T21:51:04.796Z",
      "createdAt": "2025-11-06T21:51:04.796Z",
      "role": "workflow:owner",
      "workflowId": "vfcxqLBDDMKL5lnG",
      "projectId": "GEUEn6ArNROzJ5FY",
      "project": {
        "updatedAt": "2025-10-28T15:11:59.092Z",
        "createdAt": "2025-10-28T15:08:17.462Z",
        "id": "GEUEn6ArNROzJ5FY",
        "name": "Paragon TheDev <paragoncryptodev@gmail.com>",
        "type": "personal",
        "icon": null,
        "description": null
      }
    }
  ]
}