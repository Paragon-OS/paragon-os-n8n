{
  "updatedAt": "2025-11-29T15:55:58.000Z",
  "createdAt": "2025-11-28T22:18:06.049Z",
  "id": "iaJ7xXs647QyMHGF",
  "name": "[LAB] Pinecone Embeddings",
  "description": null,
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -624,
        -104
      ],
      "id": "b7c94b85-d19f-40d6-8596-9d218e8cb7a1",
      "name": "When clicking â€˜Execute workflowâ€™"
    },
    {
      "parameters": {
        "mode": "insert",
        "pineconeIndex": {
          "__rl": true,
          "value": "contacts",
          "mode": "list",
          "cachedResultName": "contacts"
        },
        "options": {
          "clearNamespace": true,
          "pineconeNamespace": "v1"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1.3,
      "position": [
        -48,
        192
      ],
      "id": "43663119-bf54-4b97-9ff0-8ba4debc55e9",
      "name": "Pinecone Vector Store",
      "credentials": {
        "pineconeApi": {
          "id": "AjwVKGbxaD6TrCuF",
          "name": "PineconeApi account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.embeddingsGoogleGemini",
      "typeVersion": 1,
      "position": [
        -328,
        16
      ],
      "id": "c685c063-9b31-424b-b181-922b372a48f5",
      "name": "Embeddings Google Gemini",
      "credentials": {
        "googlePalmApi": {
          "id": "NIhZoi9otQV2vaAP",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "jsonMode": "expressionData",
        "jsonData": "={{ $json.pageContent }}",
        "options": {
          "metadata": {
            "metadataValues": [
              {
                "name": "contactMetadata",
                "value": "={{ $json.metadata }}"
              }
            ]
          }
        }
      },
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "typeVersion": 1.1,
      "position": [
        24,
        416
      ],
      "id": "5ff16898-387f-406e-ba05-add9e0959ac3",
      "name": "Default Data Loader"
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "{\n  \"contacts\": [\n    {\n      \"id\": 333000,\n      \"displayName\": \"Kids\",\n      \"contactType\": \"user\",\n      \"phone\": \"333\"\n    },\n    {\n      \"id\": 225850636,\n      \"username\": \"zlatapaul\",\n      \"displayName\": \"Zlata Paul\",\n      \"contactType\": \"user\",\n      \"phone\": \"995599335201\"\n    },\n    {\n      \"id\": 340351644,\n      \"username\": \"SumanthNeppalli\",\n      \"displayName\": \"Sumanth | Polygon Ventures\",\n      \"contactType\": \"user\"\n    },\n    {\n      \"id\": 348840761,\n      \"username\": \"clemensley\",\n      \"displayName\": \"Clemens Ley\",\n      \"contactType\": \"user\"\n    },\n    {\n      \"id\": 363128374,\n      \"username\": \"Avihay_H\",\n      \"displayName\": \"Avihay\",\n      \"contactType\": \"user\"\n    },\n    {\n      \"id\": 416852475,\n      \"username\": \"devkratos\",\n      \"displayName\": \"Kratos (David) Dev | CL\",\n      \"contactType\": \"user\"\n    },\n    {\n      \"id\": 520043278,\n      \"username\": \"midasch\",\n      \"displayName\": \"MK | Matt\",\n      \"contactType\": \"user\"\n    },\n    {\n      \"id\": 543100343,\n      \"username\": \"dush88c\",\n      \"displayName\": \"Crypto - Dark\",\n      \"contactType\": \"user\"\n    },\n    {\n      \"id\": 586558850,\n      \"username\": \"johngvibes\",\n      \"displayName\": \"John Vibes\",\n      \"contactType\": \"user\",\n      \"phone\": \"14436190761\"\n    },\n    {\n      \"id\": 587300333,\n      \"username\": \"iCartic\",\n      \"displayName\": \"Cartic\",\n      \"contactType\": \"user\",\n      \"phone\": \"918197536227\"\n    },\n    {\n      \"id\": 624165486,\n      \"username\": \"vlkpthrna\",\n      \"displayName\": \"Venul\",\n      \"contactType\": \"user\"\n    },\n    {\n      \"id\": 632108563,\n      \"username\": \"chaingovernance\",\n      \"displayName\": \"Chaingovernance\",\n      \"contactType\": \"user\"\n    },\n    {\n      \"id\": 649401202,\n      \"username\": \"wholemealbread69\",\n      \"displayName\": \"Munchi\",\n      \"contactType\": \"user\",\n      \"phone\": \"94715852028\"\n    },\n    {\n      \"id\": 664694900,\n      \"username\": \"DonAnarchy\",\n      \"displayName\": \"Dulmina\",\n      \"contactType\": \"user\",\n      \"phone\": \"94763103710\"\n    },\n    {\n      \"id\": 668597892,\n      \"username\": \"SanSLR\",\n      \"displayName\": \"Janitha Metaroon\",\n      \"contactType\": \"user\",\n      \"phone\": \"94775527374\"\n    },\n    {\n      \"id\": 678211632,\n      \"username\": \"EmilyEmilyert6t4564e6\",\n      \"displayName\": \"Vajira\",\n      \"contactType\": \"user\",\n      \"phone\": \"94710413045\"\n    },\n    {\n      \"id\": 696359483,\n      \"username\": \"vivekst1\",\n      \"displayName\": \"vivek\",\n      \"contactType\": \"user\"\n    },\n    {\n      \"id\": 714725084,\n      \"username\": \"stoXmod\",\n      \"displayName\": \"Nishara Malli\",\n      \"contactType\": \"user\",\n      \"phone\": \"94775777956\"\n    },\n    {\n      \"id\": 722369780,\n      \"username\": \"dinukasal\",\n      \"displayName\": \"Dinuka Salwathura\",\n      \"contactType\": \"user\",\n      \"phone\": \"94714697757\"\n    },\n    {\n      \"id\": 742595333,\n      \"username\": \"Ruchira_s\",\n      \"displayName\": \"RUCHIRA SACHINTHANA\",\n      \"contactType\": \"user\",\n      \"phone\": \"94778072233\"\n    },\n    {\n      \"id\": 780339289,\n      \"username\": \"Trimasha21\",\n      \"displayName\": \"Trimasha\",\n      \"contactType\": \"user\",\n      \"phone\": \"94769083219\"\n    },\n    {\n      \"id\": 822246157,\n      \"username\": \"ahamedrikas\",\n      \"displayName\": \"Team - UCSC\",\n      \"contactType\": \"user\",\n      \"phone\": \"94756855515\"\n    },\n    {\n      \"id\": 835380621,\n      \"username\": \"nadeeshisu\",\n      \"displayName\": \"Nadeesh\",\n      \"contactType\": \"user\"\n    },\n    {\n      \"id\": 837248846,\n      \"username\": \"Aayush_Gupta_ji\",\n      \"displayName\": \"Aayush Gupta\",\n      \"contactType\": \"user\"\n    },\n    {\n      \"id\": 847498752,\n      \"username\": \"sandalu0\",\n      \"displayName\": \"sandalu ðŸŽ ðŸ¾Hivera\",\n      \"contactType\": \"user\"\n    },\n    {\n      \"id\": 875774449,\n      \"username\": \"SutYKP\",\n      \"displayName\": \"Kasun Alagiyawanna\",\n      \"contactType\": \"user\"\n    },\n    {\n      \"id\": 883709109,\n      \"username\": \"DNA1945\",\n      \"displayName\": \"Ayesh - Web3\",\n      \"contactType\": \"user\",\n      \"phone\": \"94779420892\"\n    },\n    {\n      \"id\": 894565034,\n      \"username\": \"rebeccaa_m\",\n      \"displayName\": \"Rebecca Meegahapola\",\n      \"contactType\": \"user\"\n    },\n    {\n      \"id\": 899220754,\n      \"username\": \"gabocarranza\",\n      \"displayName\": \"Gabriel Carranza\",\n      \"contactType\": \"user\"\n    },\n    {\n      \"id\": 919776951,\n      \"username\": \"dxshas\",\n      \"displayName\": \"Hash - co-founder dx.app\",\n      \"contactType\": \"user\"\n    }\n  ]\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -624,
        192
      ],
      "id": "efc3e89f-4e10-4dc3-a597-b0b3f7a1e1b7",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "mode": "load",
        "pineconeIndex": {
          "__rl": true,
          "value": "contacts",
          "mode": "list",
          "cachedResultName": "contacts"
        },
        "prompt": "stoX",
        "options": {
          "pineconeNamespace": "v1"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1.3,
      "position": [
        -400,
        -208
      ],
      "id": "5f72b5d8-13ed-4b9c-800d-14094b311e78",
      "name": "Pinecone Vector Store1",
      "credentials": {
        "pineconeApi": {
          "id": "AjwVKGbxaD6TrCuF",
          "name": "PineconeApi account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Transform contacts array into n8n items with pageContent for embedding\nconst contacts = $input.first().json.contacts;\n\nreturn contacts.map(contact => ({\n  json: {\n    pageContent: `${contact.displayName}${contact.username ? ' (@' + contact.username + ')' : ''}${contact.phone ? ' - Phone: ' + contact.phone : ''}`,\n    metadata: {\n      id: String(contact.id),\n      displayName: contact.displayName,\n      username: contact.username || null,\n      contactType: contact.contactType,\n      phone: contact.phone || null\n    }\n  }\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -336,
        192
      ],
      "id": "f3c9b31b-6ecf-4e27-977d-006bd9e81aeb",
      "name": "Code in JavaScript"
    }
  ],
  "connections": {
    "When clicking â€˜Execute workflowâ€™": {
      "main": [
        [
          {
            "node": "Pinecone Vector Store1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Google Gemini": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_embedding",
            "index": 0
          },
          {
            "node": "Pinecone Vector Store1",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Default Data Loader": {
      "ai_document": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "7fe4b169-e614-463c-8f5a-571c1d7ab104",
  "versionCounter": 32,
  "triggerCount": 0,
  "tags": [],
  "shared": [
    {
      "updatedAt": "2025-11-28T22:18:06.056Z",
      "createdAt": "2025-11-28T22:18:06.056Z",
      "role": "workflow:owner",
      "workflowId": "iaJ7xXs647QyMHGF",
      "projectId": "GEUEn6ArNROzJ5FY",
      "project": {
        "updatedAt": "2025-10-28T15:11:59.092Z",
        "createdAt": "2025-10-28T15:08:17.462Z",
        "id": "GEUEn6ArNROzJ5FY",
        "name": "Paragon TheDev <paragoncryptodev@gmail.com>",
        "type": "personal",
        "icon": null,
        "description": null
      }
    }
  ]
}